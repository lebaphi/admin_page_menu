<table
  mat-table
  #table
  [dataSource]="dataSource"
  class="mat-elevation-z8"
  cdkDropList
  [cdkDropListData]="dataSource"
  (cdkDropListDropped)="dropTable($event)"
>
  <ng-container *ngFor="let col of displayedColumns" matColumnDef="{{ col }}">
    <div *ngIf="col !== 'action'">
      <th mat-header-cell *matHeaderCellDef [ngStyle]="{ width: columnWidth }">
        {{ capital(col) }}
      </th>
      <td mat-cell *matCellDef="let element">
        {{ element[col] }}
      </td>
    </div>
    <div *ngIf="col === 'action'">
      <th
        mat-header-cell
        *matHeaderCellDef
        style="text-align: right; margin: 0 10px 0 10px;"
      >
        <mat-form-field>
          <input #searchItem matInput type="text" placeholder="Search..." />
        </mat-form-field>
      </th>
      <td mat-cell *matCellDef="let element">
        <button mat-stroked-button (click)="navigateTo(element)">
          <mat-icon class="edit-icon">send</mat-icon>
          <span class="edit-text">{{ element.action }}</span>
        </button>
      </td>
    </div>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr
    mat-row
    *matRowDef="let row; columns: displayedColumns"
    cdkDrag
    [cdkDragData]="row"
  ></tr>
</table>

<mat-paginator
  [pageSizeOptions]="[5, 10, 20]"
  showFirstLastButtons
></mat-paginator>
